// Generated by CoffeeScript 1.4.0
(function() {

  $(function() {
    var Nav, Parallax, Slides, nav, parallax, slides;
    $('img').attr('data-original', function() {
      return $(this).attr('src');
    });
    $('img').attr('data-1x', function() {
      return $(this).attr('src');
    }).attr('data-2x', function() {
      return $(this).attr('src').replace('.', '@2x.');
    }).attr('src', 'img/placeholder.png');
    $('img').hisrc();
    Nav = (function() {

      function Nav() {
        $('#nav').clone().attr('id', 'nav-two').appendTo('#sticky-nav > .container');
        $('#nav > li, #nav-two > li').click(function() {
          return $('html, body').animate({
            scrollTop: $("#" + ($(this).html())).offset().top
          });
        });
      }

      Nav.prototype.scroll = function() {
        if ($(document).scrollTop() >= $('#nav').offset().top) {
          return $('#sticky-nav').show();
        } else {
          return $('#sticky-nav').hide();
        }
      };

      return Nav;

    })();
    Slides = (function() {

      function Slides(el) {
        this.el = el;
        this.el.slidesjs({
          width: 1000,
          height: 638,
          navigation: {
            active: false,
            effect: 'slide'
          }
        });
      }

      return Slides;

    })();
    Parallax = (function() {

      function Parallax(el) {
        this.el = el;
        this.el.attr('data-bottom-top', 'background-position: 0px 0px');
        this.el.attr('data-top-bottom', function() {
          return "background-position: 0px -" + (($(this).height() + $(window).height()) / 2);
        });
        skrollr.init({
          smoothScrolling: false
        });
      }

      return Parallax;

    })();
    parallax = new Parallax($('.page'));
    slides = new Slides($('#slides'));
    nav = new Nav;
    $(document).bind('touchmove', nav.scroll);
    return $(document).scroll(nav.scroll);
  });

}).call(this);
